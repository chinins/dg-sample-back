FROM node:10-alpine

WORKDIR /usr/src/api

COPY ./package.json .
COPY ./yarn.lock .

RUN ["yarn", "install"]
RUN ["yarn", "cache", "clean"]

COPY . .

EXPOSE 8080
CMD ["yarn", "api:watch"]
